"use strict";(self.webpackChunknewmoto=self.webpackChunknewmoto||[]).push([[120],{8407:function(e,n,t){t(2791);var r=t(5316),i=t(3360),s=t(184);n.Z=function(e){return(0,s.jsxs)(r.Z,{show:e.show,onHide:e.onHide,size:"sm","aria-labelledby":"contained-modal-title-vcenter",centered:!0,children:[(0,s.jsx)(r.Z.Header,{className:"d-flex justify-content-around",style:{fontWeight:"bolder"},children:"tab"===e.type?"All data will be erased. Continue?":"Delete moto?"}),(0,s.jsxs)(r.Z.Footer,{className:"d-flex justify-content-around",children:[(0,s.jsx)(i.Z,{style:{borderRadius:"25px"},variant:"light",onClick:e.onHide,children:"Cancel"}),(0,s.jsx)(i.Z,{style:{borderRadius:"25px"},variant:"secondary",onClick:function(){e.onHide(),e.delete()},children:"Yes"})]})]})}},4120:function(e,n,t){t.r(n),t.d(n,{default:function(){return I}});var r=t(2791),i=t(5861),s=t(9439),l=t(7757),a=t.n(l),d=t(6871),o=t(8630),c=t(3360),u=t(184);var x=function(){var e=(0,r.useState)(""),n=(0,s.Z)(e,2),t=(n[0],n[1]),l=(0,r.useContext)(o.Z),x=(0,d.s0)();function h(){return(h=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(""),e.next=4,l.logout();case 4:x("/"),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),t("Failed to log out: ".concat(e.t0)),console.clear();case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return(0,u.jsx)("div",{children:(0,u.jsx)(c.Z,{variant:"secondary",onClick:function(){return h.apply(this,arguments)},style:{borderRadius:"25px"},children:"Log out"})})},h=t(9144),f=t(7022),m=t(9485),p=t(1734),v=t(2709),j=t(5630),Z=t(9697);var y=function(e){var n=e.changeTabNameHandler,t=(0,r.useContext)(h.Z),i=t.addProfileTabHandler,l=t.userSavedProfileData,a=(0,r.useState)(""),d=(0,s.Z)(a,2),o=d[0],x=d[1],m=(0,r.useState)([]),p=(0,s.Z)(m,2),y=p[0],g=p[1],b=(0,r.useState)(0),w=(0,s.Z)(b,2),S=w[0],N=w[1],R=(0,r.useState)(""),C=(0,s.Z)(R,2),D=C[0],k=C[1],H=(0,r.useRef)(),T=(0,r.useRef)();function M(e){return e.trim().length>0}return(0,r.useEffect)((function(){var e,n;g(Object.entries(l).map((function(e){var n=(0,s.Z)(e,2);n[0];return n[1].name}))),x(null!==(e=null===(n=l[0])||void 0===n?void 0:n.name)&&void 0!==e?e:"")}),[l]),(0,u.jsxs)(f.Z,{className:"d-flex align-items-center flex-column",style:{minWidth:"75%"},children:[(0,u.jsx)(v.Z,{in:!!D,children:(0,u.jsx)("div",{style:{color:"red",marginBottom:"-15px",fontWeight:"bolder"},children:D})}),(0,u.jsx)(j.Z,{style:{width:"100%",margin:"50px 0"},className:"d-flex justify-content-center flex-wrap",onSubmit:function(e){e.preventDefault(),k("");var n=H.current.value.toString();return y.indexOf(n)>-1?(k("Name already in use."),void(H.current.value="")):M(n)?(i(n),void(H.current.value="")):(k("Add a valid input."),void(H.current.value=""))},children:(0,u.jsxs)(j.Z.Group,{className:"d-flex justify-content-center align-items-center",children:[(0,u.jsx)(j.Z.Label,{style:{width:"200px"},children:"Add new moto"}),(0,u.jsx)(j.Z.Control,{type:"text",placeholder:"Moto name",style:{margin:"0 10px",boxSizing:"border-box"},ref:H,required:!0,maxLength:30}),(0,u.jsx)(c.Z,{type:"submit",variant:"secondary",style:{borderRadius:"25px"},children:"Submit"})]})}),(0,u.jsxs)(j.Z,{onSubmit:function(e){e.preventDefault(),k("");var t=T.current.value.toString();if(y.indexOf(t)>-1)return k("Name already in use."),void(T.current.value="");if(!M(t))return k("Add a valid input."),void(T.current.value="");n({idx:S,data:t,type:"name"});var r=Object.entries(l);g(r.map((function(e){var n=(0,s.Z)(e,2);n[0];return n[1].name}))),x(r[0][1].name),T.current.value=""},style:{width:"100%",margin:"50px 0"},className:"d-flex justify-content-center flex-wrap",children:[(0,u.jsxs)(j.Z.Group,{className:"d-flex justify-content-center align-items-center",children:[(0,u.jsx)(j.Z.Label,{style:{marginRight:"10px"},children:"Change name"}),(0,u.jsxs)(Z.Z,{onSelect:function(e){x(e),N((function(){return y.indexOf(e)}))},children:[(0,u.jsx)(Z.Z.Toggle,{variant:"secondary",disabled:0===y.length,style:{margin:"0 10px"},children:o}),(0,u.jsx)(Z.Z.Menu,{children:null===y||void 0===y?void 0:y.map((function(e,n){return(0,u.jsx)(Z.Z.Item,{eventKey:e,children:e},n)}))})]})]}),(0,u.jsxs)(j.Z.Group,{className:"d-flex justify-content-center align-items-center",children:[(0,u.jsx)(j.Z.Control,{type:"text",placeholder:"New name",style:{margin:"10px 10px"},ref:T,required:!0,disabled:""===o,maxLength:30}),(0,u.jsx)(c.Z,{type:"submit",variant:"secondary",style:{borderRadius:"25px"},disabled:""===o,children:"Submit"})]})]})]})},g=t(9743),b=t(2677),w=t(1413);var S=function(e){return(0,u.jsx)("div",{style:(0,w.Z)({margin:"20px",height:"400px",padding:"15px",borderRadius:"35px",border:"5px solid #e8e8e8",boxShadow:"0 0 10px #e8e8e8"},e),className:e.className||"d-flex flex-column justify-content-between align-items-center",children:e.children})};var N=function(e){var n=(0,r.useContext)(h.Z).saveProfileDataHandler,t=(0,r.useState)(e.journal),i=(0,s.Z)(t,2),l=i[0],a=i[1];return(0,u.jsx)(g.Z,{children:(0,u.jsx)(b.Z,{children:(0,u.jsxs)(S,{maxWidth:"100%",width:"",height:"400px",children:[(0,u.jsx)("h3",{children:"Journal"}),(0,u.jsx)(j.Z,{style:{width:"100%",height:"100%",overflow:"auto"},children:(0,u.jsx)(j.Z.Control,{as:"textarea",style:{width:"100%",height:"100%",borderRadius:"15px"},placeholder:"write something...",value:l,onChange:function(t){a(t.target.value),n({idx:e.idx,data:t.target.value,type:"journal"})}})})]})})})},R=t(3433),C=t(2591),D=t(9513),k=t.n(D);t(8639);var H=function(e){var n=(0,r.useContext)(h.Z).saveProfileDataHandler,t=(0,r.useState)(e.maintenance),i=(0,s.Z)(t,2),l=i[0],a=i[1],d=(0,r.useState)(new Date),o=(0,s.Z)(d,2),x=o[0],f=o[1],m=(0,r.useRef)(),p=r.forwardRef((function(e,n){return(0,u.jsx)(c.Z,{onClick:e.onClick,ref:n,variant:"secondary",style:{borderRadius:"25px"},children:e.value})}));return(0,u.jsx)(g.Z,{children:(0,u.jsx)(b.Z,{children:(0,u.jsxs)(S,{className:"d-flex flex-column",children:[(0,u.jsx)("h3",{className:"text-center",children:"Moto Maintenance History"}),(0,u.jsx)("div",{style:{overflow:"auto",width:"100%",height:"100%"},children:(0,u.jsxs)(C.Z,{striped:!0,hover:!0,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Date"}),(0,u.jsx)("th",{children:"Notes/Serviced"})]})}),(0,u.jsx)("tbody",{children:l.map((function(e,n){var t=(0,s.Z)(e,2),r=t[0],i=t[1];return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:r}),(0,u.jsx)("td",{children:i})]},n)}))})]})}),(0,u.jsx)("div",{children:(0,u.jsx)(j.Z,{onSubmit:function(t){t.preventDefault();var r=x.toString().split(" ").slice(0,4).join(" "),i=m.current.value;a((function(t){return t=[[r,i]].concat((0,R.Z)(t)),m.current.value="",n({idx:e.idx,data:t,type:"maintenance"}),t}))},style:{bottom:"0px",position:"relative",marginTop:"10px"},children:(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(b.Z,{xs:12,sm:8,lg:9,children:(0,u.jsx)(j.Z.Control,{style:{borderRadius:"15px",width:"100%",padding:"10px"},placeholder:"add maintenance...",type:"text",required:!0,ref:m})}),(0,u.jsx)(b.Z,{xs:6,sm:2,lg:2,className:"d-flex justify-content-end mt-2",children:(0,u.jsx)(k(),{selected:x,onChange:function(e){return f(e)},customInput:(0,u.jsx)(p,{})})}),(0,u.jsx)(b.Z,{xs:6,sm:2,lg:1,className:"d-flex justify-content-end mt-2",children:(0,u.jsx)(c.Z,{style:{borderRadius:"25px"},type:"submit",variant:"secondary",children:"Add"})})]})})})]})})})};var T=function(e){var n=(0,r.useContext)(h.Z).saveProfileDataHandler,t=(0,r.useState)(e.milesRode),l=(0,s.Z)(t,2),d=l[0],o=l[1],x=(0,r.useState)(e.milesRodeLog),f=(0,s.Z)(x,2),m=f[0],p=f[1],v=(0,r.useRef)();return(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(b.Z,{children:(0,u.jsxs)(S,{children:[(0,u.jsx)("h3",{children:"Total Miles Rode"}),(0,u.jsx)("h3",{style:{fontWeight:"bold"},children:d}),(0,u.jsxs)(j.Z,{className:"d-flex",onSubmit:function(t){t.preventDefault();var r,s=parseInt(v.current.value);function l(){return(l=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o((function(e){return e=parseInt(e)+s,r=e,v.current.value="",e}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return l.apply(this,arguments)})().then((function(){return n({idx:e.idx,data:r,type:"milesRode"})})).then((function(){var t,r=Date().split(" ").slice(0,4).join(" ");function l(){return(l=(0,i.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:p((function(e){return t=[[r,s]].concat((0,R.Z)(e))}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(function(){return l.apply(this,arguments)})().then((function(){return n({idx:e.idx,data:t,type:"milesRodeLog"})}))}))},children:[(0,u.jsx)(j.Z.Control,{style:{borderRadius:"15px",width:"120px"},placeholder:"add miles...",ref:v,required:!0,type:"number"}),(0,u.jsx)(c.Z,{style:{borderRadius:"25px",marginLeft:"15px"},type:"submit",variant:"secondary",children:"Add"})]})]})}),(0,u.jsx)(b.Z,{children:(0,u.jsxs)(S,{className:"d-flex flex-column",children:[(0,u.jsx)("h3",{className:"text-center",children:"Miles Rode Log"}),(0,u.jsx)("div",{style:{overflow:"auto",width:"100%",padding:"5px"},children:(0,u.jsxs)(C.Z,{striped:!0,hover:!0,children:[(0,u.jsx)("thead",{children:(0,u.jsxs)("tr",{children:[(0,u.jsx)("th",{children:"Date"}),(0,u.jsx)("th",{children:"Miles"})]})}),(0,u.jsx)("tbody",{children:null===m||void 0===m?void 0:m.map((function(e,n){var t=(0,s.Z)(e,2),r=t[0],i=t[1];return(0,u.jsxs)("tr",{children:[(0,u.jsx)("td",{children:r}),(0,u.jsx)("td",{children:i})]},n)}))})]})})]})})]})},M=[["10,000 Miles",!1],["5,000 Miles",!1],["2,000 Miles",!1],["1,000 Miles",!1],["500 Miles",!1],["First ride",!1],["Sign up for Newmoto",!0]];var L=function(e){var n=(0,r.useContext)(h.Z).saveProfileDataHandler,t=(0,r.useState)(e.milestones.length?e.milestones:M),i=(0,s.Z)(t,2),l=i[0],a=i[1],d=(0,r.useState)(!1),o=(0,s.Z)(d,2),x=(o[0],o[1],(0,r.useRef)());return(0,u.jsx)(b.Z,{xs:12,sm:6,children:(0,u.jsxs)(S,{maxWidth:"100%",width:"",height:"400px",className:"d-flex flex-column",children:[(0,u.jsx)("h3",{className:"text-center",children:"Milestones"}),(0,u.jsx)("div",{style:{overflow:"auto",height:"300px",width:"100%",padding:"5px"},children:(0,u.jsx)(j.Z,{children:null===l||void 0===l?void 0:l.map((function(t,r){var i=(0,s.Z)(t,2),l=i[0],d=i[1];return console.log(l,d),(0,u.jsx)("div",{className:"d-flex mt-3",children:(0,u.jsx)(j.Z.Check,{type:"checkbox",label:l,defaultChecked:d,onClick:function(){return function(t){a((function(r){return console.log("prev ~~~>",r,t),r[t][1]=!r[t][1],n({idx:e.idx,data:r,type:"milestones"}),r}))}(r)}})},r)}))})}),(0,u.jsx)(j.Z,{onSubmit:function(t){t.preventDefault();var r=x.current.value;a((function(t){return t=[[r,!1]].concat((0,R.Z)(t)),x.current.value="",n({idx:e.idx,data:t,type:"milestones"}),t}))},style:{bottom:"0px",position:"relative",marginTop:"10px"},children:(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(b.Z,{sm:9,xs:9,lg:10,children:(0,u.jsx)(j.Z.Control,{style:{borderRadius:"15px",width:"100%",padding:"10px"},placeholder:"add milestone...",type:"text",required:!0,ref:x})}),(0,u.jsx)(b.Z,{sm:3,xs:3,lg:2,className:"d-flex align-items-center justify-content-end",children:(0,u.jsx)(c.Z,{style:{borderRadius:"25px"},type:"submit",variant:"secondary",children:"Add"})})]})})]})})},P=t(473);var A=function(e){var n=(0,r.useContext)(h.Z).saveProfileDataHandler,t=(0,r.useState)(e.notes||[]),i=(0,s.Z)(t,2),l=i[0],a=i[1],d=(0,r.useRef)();return(0,u.jsx)(b.Z,{xs:12,sm:6,children:(0,u.jsxs)(S,{maxWidth:"100%",width:"",height:"400px",className:"d-flex flex-column",children:[(0,u.jsx)("h3",{className:"text-center",children:"Notes"}),(0,u.jsx)("div",{style:{overflow:"auto",height:"300px",width:"100%",padding:"5px"},children:null===l||void 0===l?void 0:l.map((function(t,r){return(0,u.jsxs)("div",{className:"d-flex mt-3",children:[(0,u.jsx)(P.Z,{onClick:function(){return function(t){a((function(r){return r=r.filter((function(e,n){return t!==n})),n({idx:e.idx,data:r,type:"notes"}),r}))}(r)},style:{marginRight:"15px"}}),(0,u.jsx)("li",{style:{listStyle:"none"},children:t})]},r)}))}),(0,u.jsx)(j.Z,{onSubmit:function(t){t.preventDefault();var r=d.current.value;a((function(t){return t=[r].concat((0,R.Z)(t)),d.current.value="",n({idx:e.idx,data:t,type:"notes"}),t}))},style:{bottom:"0px",position:"relative",marginTop:"10px"},children:(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(b.Z,{sm:9,xs:9,lg:10,children:(0,u.jsx)(j.Z.Control,{style:{borderRadius:"15px",width:"100%",padding:"10px"},placeholder:"add note...",type:"text",required:!0,ref:d})}),(0,u.jsx)(b.Z,{sm:3,xs:3,lg:2,className:"d-flex align-items-center justify-content-end",children:(0,u.jsx)(c.Z,{style:{borderRadius:"25px"},type:"submit",variant:"secondary",children:"Add"})})]})})]})})},O=t(8407);var W=function(e){var n,t,i,l,a,d=e.tabData,o=e.idx,x=e.deleteTabHandler,h=(0,r.useState)(!1),m=(0,s.Z)(h,2),p=m[0],v=m[1];return(0,u.jsxs)(f.Z,{children:[(0,u.jsx)(T,{milesRode:null!==(n=null===d||void 0===d?void 0:d.milesRode)&&void 0!==n?n:0,milesRodeLog:d.milesRodeLog||[],idx:o}),(0,u.jsxs)(g.Z,{children:[(0,u.jsx)(A,{notes:null!==(t=null===d||void 0===d?void 0:d.notes)&&void 0!==t?t:[],idx:o}),(0,u.jsx)(L,{milestones:null!==(i=null===d||void 0===d?void 0:d.milestones)&&void 0!==i?i:[],idx:o})]}),(0,u.jsx)(H,{maintenance:null!==(l=null===d||void 0===d?void 0:d.maintenance)&&void 0!==l?l:[],idx:o}),(0,u.jsx)(N,{journal:null!==(a=null===d||void 0===d?void 0:d.journal)&&void 0!==a?a:"",idx:o}),(0,u.jsxs)("div",{className:"d-flex justify-content-center mt-4",children:[(0,u.jsx)(c.Z,{style:{borderRadius:"25px"},variant:"secondary",onClick:function(){return v(!0)},children:"Delete"}),(0,u.jsx)(O.Z,{delete:function(){x(o)},onHide:function(){return v(!1)},show:p,type:"tab"})]})]})};var q=function(){var e=(0,r.useContext)(h.Z),n=e.userSavedProfileData,t=e.saveProfileDataHandler,i=e.deleteProfileTabHandler,l=(0,r.useState)(""),a=(0,s.Z)(l,2),d=a[0],o=a[1],c=(0,r.useState)([]),x=(0,s.Z)(c,2),v=x[0],j=x[1],Z=(0,r.useState)(!0),g=(0,s.Z)(Z,2),b=g[0],w=g[1];function S(e){window.scrollTo(0,0),i(e);var t,r=Object.entries(n);(j(r),r[0]&&r[0][1])?o(null===(t=r[0][1])||void 0===t?void 0:t.name):o("+")}return(0,r.useEffect)((function(){n[0]&&j(Object.entries(n)),b&&n[0]&&(o(n[0].name),w(!1)),b&&!n[0]&&o("+")}),[n,b]),(0,u.jsx)(f.Z,{className:"mb-5",children:(0,u.jsxs)(m.Z,{activeKey:d,onSelect:function(e){return o(e)},className:"mb-3",children:[v.map((function(e){var n=(0,s.Z)(e,2),t=n[0],r=n[1];return(0,u.jsx)(p.Z,{eventKey:r.name,title:r.name,children:(0,u.jsx)(W,{tabData:r,idx:t,deleteTabHandler:S})},t)})),(0,u.jsx)(p.Z,{eventKey:"+",title:"+",style:{width:"100%",height:"100%",boxSizing:"border-box",marginTop:"30px"},children:(0,u.jsx)(y,{changeTabNameHandler:function(e){t(e),j(Object.entries(n))}})})]})})};var I=function(){var e=(0,r.useContext)(h.Z);return(0,u.jsxs)("div",{style:{background:"#fff",minHeight:"85vh",marginTop:"40px"},children:[(0,u.jsxs)("div",{className:"d-flex justify-content-between align-items-center container",style:{margin:"30px auto"},children:[(0,u.jsx)("h3",{children:"Safe riding, ".concat(e.user.split("@")[0])}),(0,u.jsx)(x,{})]}),(0,u.jsx)(q,{})]})}}}]);
//# sourceMappingURL=120.cbaaad39.chunk.js.map